(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{115:function(e,t,a){},116:function(e,t,a){"use strict";a.r(t);a(70),a(49),a(71);var n=a(0),r=a.n(n),l=a(22),o=a.n(l),c=a(10),u=(a(77),a(121)),i=a(56),s=a(55),m=a(35);var d=function(e){var t=e.columns,a=e.data,n=Object(m.useTable)({columns:t,data:a},m.useFilters,m.useSortBy,m.usePagination),l=n.getTableProps,o=n.headerGroups,c=n.prepareRow,d=n.page,f=n.canPreviousPage,p=n.canNextPage,E=n.pageOptions,h=n.pageCount,b=n.gotoPage,g=n.nextPage,v=n.previousPage,j=n.setPageSize,O=n.state,k=O.pageIndex,y=O.pageSize;return r.a.createElement("div",null,r.a.createElement(s.a,Object.assign({bordered:!0,hover:!0,size:"md"},l()),r.a.createElement("thead",null,o.map((function(e){return r.a.createElement("tr",e.getHeaderGroupProps(),e.headers.map((function(e){return r.a.createElement("th",e.getHeaderProps(e.getSortByToggleProps()),e.render("Header"),r.a.createElement("span",null,e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""),r.a.createElement("div",null,e.canFilter?e.render("Filter"):null))})))}))),r.a.createElement("tbody",null,d.map((function(e,t){return c(e),r.a.createElement("tr",e.getRowProps(),e.cells.map((function(e){return r.a.createElement("td",e.getCellProps(),e.render("Cell"))})))})))),r.a.createElement("div",{className:"d-flex align-items-center justify-content-center text-center w-100"},r.a.createElement("span",null,"Page"," ",r.a.createElement("strong",null,k+1," of ",E.length)," ")),r.a.createElement("div",{className:"d-flex align-items-center justify-content-center text-center w-100"},r.a.createElement(u.a,{onClick:function(){return b(0)},disabled:!f,className:"mx-1"},"<<")," ",r.a.createElement(u.a,{onClick:function(){return v()},disabled:!f,className:"mx-1"},"<")," ",r.a.createElement(u.a,{onClick:function(){return g()},disabled:!p,className:"mx-1"},">")," ",r.a.createElement(u.a,{onClick:function(){return b(h-1)},disabled:!p,className:"mx-1"},">>")," ",r.a.createElement(i.a,{type:"number",defaultValue:k+1,onChange:function(e){var t=e.target.value?Number(e.target.value)-1:0;b(t)},style:{width:"50px"},className:"mx-1"}),r.a.createElement(i.a,{as:"select",custom:!0,className:"mx-1",value:y,onChange:function(e){j(Number(e.target.value))},style:{maxWidth:115}},[10,20,30,40,50].map((function(e){return r.a.createElement("option",{key:e,value:e},"Show ",e)})))))};function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"http://localhost/projekt_skoly/public/api"+e}var p=a(11),E=a(125);function h(e){var t=e.column,a=t.filterValue,n=t.setFilter,l=t.preFilteredRows,o=t.id,c=r.a.useMemo((function(){var e=new Set;return l.forEach((function(t){e.add(t.values[o])})),Object(p.a)(e.values())}),[o,l]);return r.a.createElement(E.a.Control,{as:"select",value:a,custom:!0,onChange:function(e){n(e.target.value||void 0)}},r.a.createElement("option",{value:""},"V\u0161e"),c.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)})))}var b=a(127),g=a(126),v=a(124),j=a(122),O=a(57),k=a(68),y=a(39);var w=function(e){var t=e.show,a=e.onHide,l=Object(n.useState)(!0),o=Object(c.a)(l,2),i=o[0],s=o[1],m=Object(n.useState)(!1),d=Object(c.a)(m,2),p=d[0],h=d[1],b=Object(n.useState)({mesto:[],skola:[],obor:[]}),g=Object(c.a)(b,2),w=g[0],x=g[1],S=Object(k.a)(),C=S.register,P=S.handleSubmit,N=(S.watch,S.errors);return Object(n.useEffect)((function(){t&&fetch(f("/schools/all"),{method:"GET"}).then((function(e){return e.json()})).then((function(e){x(e),s(!1)})).catch((function(e){console.log(e),s(!1)}))}),[t]),r.a.createElement(v.a,{show:t,onHide:a,size:"lg"},r.a.createElement(E.a,{onSubmit:P((function(e){h(!0),fetch(f("/schools/pocet"),{method:"POST",body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){h(!1),console.log(e),a()})).catch((function(e){console.log(e),h(!1)}))}))},r.a.createElement(v.a.Header,{closeButton:!0},r.a.createElement(v.a.Title,null,"P\u0159idat rok")),i?r.a.createElement(v.a.Body,null,r.a.createElement("div",{className:"d-flex align-items-center justify-content-center"},r.a.createElement(y.ClipLoader,{size:150,color:"#123abc",loading:i}))):r.a.createElement(v.a.Body,null,r.a.createElement(j.a,null,r.a.createElement(O.a,null,r.a.createElement(E.a.Group,null,r.a.createElement(E.a.Label,null,"Rok"),r.a.createElement(E.a.Control,{min:0,placeholder:"Rok",ref:C({required:!0}),name:"rok"}),N.exampleRequired&&r.a.createElement("span",null,"This field is required"))),r.a.createElement(O.a,null,r.a.createElement(E.a.Group,null,r.a.createElement(E.a.Label,null,"Po\u010det"),r.a.createElement(E.a.Control,{min:0,placeholder:"Po\u010det",ref:C({required:!0}),name:"pocet"}),N.exampleRequired&&r.a.createElement("span",null,"This field is required")))),r.a.createElement(E.a.Group,null,r.a.createElement(E.a.Label,null,"M\u011bsto"),r.a.createElement(E.a.Control,{as:"select",defaultValue:"M\u011bsto...",name:"mesto",ref:C({required:!0})},Object.keys(w.mesto).map((function(e){return r.a.createElement("option",{value:e},w.mesto[e])}))),N.exampleRequired&&r.a.createElement("span",null,"This field is required")),r.a.createElement(E.a.Group,null,r.a.createElement(E.a.Label,null,"\u0160kola"),r.a.createElement(E.a.Control,{as:"select",defaultValue:"\u0160kola...",name:"skola",ref:C({required:!0})},Object.keys(w.skola).map((function(e){return r.a.createElement("option",{value:e},w.skola[e])}))),N.exampleRequired&&r.a.createElement("span",null,"This field is required")),r.a.createElement(E.a.Group,null,r.a.createElement(E.a.Label,null,"Obor"),r.a.createElement(E.a.Control,{as:"select",defaultValue:"Obor...",name:"obor",ref:C({required:!0})},Object.keys(w.obor).map((function(e){return r.a.createElement("option",{value:e},w.obor[e])}))),N.exampleRequired&&r.a.createElement("span",null,"This field is required"))),r.a.createElement(v.a.Footer,null,r.a.createElement(u.a,{variant:"secondary",onClick:a,disabled:p},"Zru\u0161it"),r.a.createElement(u.a,{variant:"primary",type:"submit",disabled:p},"P\u0159idat"))))};a(108);var x=function(e){var t=e.reloadData,a=e.toggleShowMap,l=e.showMap,o=Object(n.useState)(!1),i=Object(c.a)(o,2),s=i[0],m=i[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{className:"bg-light justify-content-between"},r.a.createElement(g.a,{className:"mr-auto"},r.a.createElement(g.a.Item,null,r.a.createElement(E.a.Check,{type:"switch",id:"test",label:"Zobrazit mapu",checked:l,onChange:function(e){return a(e.target.checked)}}))),r.a.createElement("div",{className:"justify-content-end"},r.a.createElement(u.a,{variant:"success",onClick:function(){return m(!0)}},"Vytvo\u0159it rok"))),r.a.createElement(w,{show:s,onHide:function(){m(!1),t()}}))},S=a(128),C=a(129),P=a(123),N=a(130),q=a(14),R=a.n(q);a(109);delete R.a.Icon.Default.prototype._getIconUrl,R.a.Icon.Default.mergeOptions({iconRetinaUrl:a(110),iconUrl:a(111),shadowUrl:a(112)});var T=function(){var e=Object(n.useState)(!0),t=Object(c.a)(e,2),a=(t[0],t[1]),l=Object(n.useState)([]),o=Object(c.a)(l,2),u=o[0],i=o[1],s=Object(n.useRef)();return Object(n.useEffect)((function(){fetch(f("/schools/positions"),{method:"GET"}).then((function(e){return e.json()})).then((function(e){i(e),a(!1)})).catch((function(e){console.log(e),a(!1)}))}),[]),r.a.createElement(S.a,{center:[49.7789766,15.612118],zoom:9,ref:s,style:{height:"calc(100% - 54px)",width:"100%"}},r.a.createElement(C.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),u.map((function(e){return r.a.createElement(P.a,{position:[e.lat,e.lng]},r.a.createElement(N.a,null,r.a.createElement("b",null,e.nazev)))})))};var F=function(){var e=Object(n.useState)(!0),t=Object(c.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(!1),u=Object(c.a)(o,2),i=u[0],s=u[1],m=Object(n.useState)([]),p=Object(c.a)(m,2),E=p[0],b=p[1],g=Object(n.useState)(0),v=Object(c.a)(g,2),j=v[0],O=v[1],k=r.a.useMemo((function(){return[{Header:"\u0160kola",Filter:h,accessor:"skola"},{Header:"Obor",Filter:h,accessor:"obor"},{Header:"M\u011bsto",Filter:h,accessor:"mesto"},{Header:"Po\u010det",Filter:h,accessor:"pocet"},{Header:"Rok",Filter:h,accessor:"rok"}]}),[]);return Object(n.useEffect)((function(){l(!0),fetch(f("/schools"),{method:"GET"}).then((function(e){return e.json()})).then((function(e){b(e),l(!1)})).catch((function(e){console.log(e),l(!1)}))}),[j]),r.a.createElement("div",{style:{height:"100vh"}},r.a.createElement(x,{reloadData:function(){return O(Math.random())},toggleShowMap:function(e){return s(e)},showMap:i}),i?r.a.createElement(T,null):r.a.createElement("div",{className:"container"},r.a.createElement(d,{columns:k,data:E}),a?r.a.createElement("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:2,backgroundColor:"rgba(0, 0, 0, 0.2"}},r.a.createElement("div",{className:"d-flex align-items-center justify-content-center"},r.a.createElement(y.ClipLoader,{size:150,color:"#123abc",loading:a}))):null))};a(115),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},69:function(e,t,a){e.exports=a(116)},77:function(e,t,a){}},[[69,1,2]]]);
//# sourceMappingURL=main.e7a411cf.chunk.js.map